<!--pages/car-part/index.wxml-->
<import src='../../template/loadmore.wxml' />
<view class='l-page-full {{filter.visible ? "l-no-scroll": ""}}'>
  <view class='l-list-filter'>
    <view class='l-filter-date l-flex-hc'>
      <picker class='l-rest _type {{filter.type === "startDate" ? "_active" : ""}}' mode='date' value='{{filter.data.startDate}}' id='startDate' bindchange='dateInput'>
        <text>{{filter.data.startDate || '开始时间'}}</text>
        <text class='l-icon-6ac'></text>
      </picker>
      <text>至</text>
      <picker class='l-rest _type {{filter.type === "endDate" ? "_active" : ""}}' mode='date' value='{{filter.data.endDate}}' id='endDate' bindchange='dateInput'>
        <text>{{filter.data.endDate || '结束时间'}}</text>
        <text class='l-icon-6ac'></text>
      </picker>
    </view>
    <view class='_cont {{filter.visible ? "_active" : ""}}' bindtap='hideFilter'>
    </view>
  </view>
  <navigator url='../car-part-info/index?id={{item.customerOrderId}}' class='l-margin-m l-bg-white l-padding l-radius' wx:for='{{list.data}}' wx:key='customerOrderId'>
    <view class='l-padding-b l-border-b'>
      <text>车架号：{{item.customerOrderCode}}</text>
    </view>
    <view class='l-padding-t l-flex-h'>
      <view class='l-rest'>
        <view class='l-h4'>{{item.carsNameBefor}}</view>
        <view>{{item.carsNameAfter}}</view>
        <view class='l-text-gray l-fs-s'>完款时间：{{item.payDate}}</view>
      </view>
    </view>
    <picker wx:if='{{!item.estimateDate}}' mode='date' value='{{item.estimateDate}}' data-item='{{item}}' bindchange='dateChange'>
      <view class='l-padding-t l-margin-t l-border-t l-text-center l-text-theme'>添加预计完成时间</view>
    </picker>
    <view wx:else catchtap='noopFn'>
      <view class='l-padding-t l-margin-t l-border-t'>预计完成时间：{{item.estimateDate}}</view>
    </view>
  </navigator>
  <template is='loadmore' data='{{...list}}' />
</view>