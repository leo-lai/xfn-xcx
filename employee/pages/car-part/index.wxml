<!--pages/car-part/index.wxml-->
<import src='../../template/loadmore.wxml' />
<view class='l-page-full {{filter.visible ? "l-no-scroll": ""}}'>
  <view class='l-list-filter'>
    <view class='l-filter-date l-flex-hc'>
      <picker class='l-rest _type {{filter.type === "startDate" ? "_active" : ""}}' mode='date' value='{{filter.data.startDate}}' id='startDate' bindchange='dateChange'>
        <text>{{filter.data.startDate || '开始时间'}}</text>
        <text class='l-icon-6ac'></text>
      </picker>
      <text>至</text>
      <picker class='l-rest _type {{filter.type === "endDate" ? "_active" : ""}}' mode='date' value='{{filter.data.endDate}}' id='endDate' bindchange='dateChange'>
        <text>{{filter.data.endDate || '结束时间'}}</text>
        <text class='l-icon-6ac'></text>
      </picker>
    </view>
    <view class='_cont {{filter.visible ? "_active" : ""}}' bindtap='hideFilter'>
    </view>
  </view>
  <navigator url='../car-part-info/index?id={{item.customerOrderId}}' class='l-margin-m l-bg-white l-padding-lr l-radius' wx:for='{{list.data}}' wx:key='customerOrderId'>
    <view class='l-padding-tb l-border-b'>车架号：{{item.customerOrderCode}}</view>
    <view class='l-padding-tb'>
      <view class='l-h4'>{{item.carsNameBefor}}</view>
      <view>{{item.carsNameAfter}}</view>
      <view class='l-text-gray l-fs-s'>完款时间：{{item.payDate}}</view>
    </view>
    <view wx:if='{{!item.estimateDate}}' catchtap='noopFn'>
      <picker class='l-padding-tb l-border-t l-text-center l-text-theme' mode='date' value='{{item.estimateDate}}' data-item='{{item}}' bindchange='dateChange'>
        <text>添加预计完成时间</text>
      </picker>
    </view>
    <view wx:else class='l-padding-tb l-border-t'>预计完成时间：{{item.estimateDate}}</view>
  </navigator>
  <template is='loadmore' data='{{...list}}' />
</view>